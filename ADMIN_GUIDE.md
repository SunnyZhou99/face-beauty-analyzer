# 🎫 兑换码管理后台使用说明

## 访问管理后台

访问地址：`https://你的网站.netlify.app/admin`

或者点击页面右上角的「🔧 管理后台」按钮。

---

## 📊 管理后台功能

### 1. 统计概览

- **总兑换码**：所有兑换码的数量
- **有效兑换码**：当前有效的兑换码数量
- **总使用次数**：所有兑换码被使用的总次数
- **已用完**：使用次数达到上限的兑换码数量

### 2. 创建兑换码

点击「➕ 创建新兑换码」按钮，填写以下信息：

- **兑换码**：手动输入或点击「生成」按钮自动生成
- **赠送次数**：兑换成功后赠送的次数（例如：5次）
- **描述**：兑换码的说明（例如：活动赠送5次）
- **最大使用次数**：该兑换码可以使用的总次数
  - 设置为 1 表示每个用户只能使用一次
  - 设置为 10 表示最多10个用户可以使用
- **过期时间**（可选）：设置兑换码的过期时间，留空表示永不过期

### 3. 管理兑换码

在兑换码列表中，你可以：

- **查看详情**：查看每个兑换码的使用情况
- **启用/禁用**：控制兑换码是否可用
- **删除**：删除不需要的兑换码
- **刷新列表**：实时刷新兑换码列表

---

## ⚠️ 重要说明

### 数据持久化问题

**当前问题：**
- 兑换码数据存储在服务器的 `data/` 目录
- Netlify 每次部署后，文件系统会被重置
- 这会导致兑换码数据丢失

**解决方案：**
1. **短期方案**：每次添加兑换码后，导出兑换码列表备份
2. **长期方案**：集成真实数据库（如 Supabase、MongoDB）

### 如何访问管理后台

管理后台地址：`https://classy-semolina-57df53.netlify.app/admin`

---

## 🔐 安全建议

1. **不要公开管理后台地址**：管理后台目前没有密码保护，任何人都可以访问
2. **定期备份兑换码数据**：在每次添加兑换码后，记录好兑换码信息
3. **使用环境变量**：如果需要保护管理后台，可以添加密码验证

---

## 📝 使用示例

### 创建活动兑换码

1. 点击「➕ 创建新兑换码」
2. 点击「生成」按钮，自动生成兑换码（例如：`ABC123XYZ789`）
3. 赠送次数填写：`5`
4. 描述填写：`春节活动赠送5次`
5. 最大使用次数填写：`100`（最多100人可以使用）
6. 过期时间留空（永不过期）
7. 点击「创建」

### 创建单人兑换码

1. 点击「➕ 创建新兑换码」
2. 手动输入兑换码（例如：`VIP2026`）
3. 赠送次数填写：`10`
4. 描述填写：`VIP专属兑换码`
5. 最大使用次数填写：`1`（只能一个人使用）
6. 点击「创建」

---

## 💡 常见问题

### Q1: 为什么兑换码用不了？
**A:** 可能的原因：
- 兑换码已被用完
- 兑换码已过期
- 兑换码已被禁用
- 你已经使用过该兑换码

### Q2: 如何查看兑换码使用情况？
**A:** 在管理后台的兑换码列表中，可以看到每个兑换码的使用情况：
- `used/max` 显示已使用次数/最大使用次数
- 进度条显示使用比例
- 绿色表示可用，红色表示已用完

### Q3: Netlify 部署后兑换码数据会丢失吗？
**A:** 是的，每次部署后文件系统会被重置。建议：
1. 每次部署前记录兑换码列表
2. 部署后重新添加兑换码
3. 考虑使用真实数据库解决此问题

---

## 🚀 后续优化建议

1. **添加密码保护**：管理后台需要密码才能访问
2. **集成真实数据库**：使用 Supabase、MongoDB 等数据库存储数据
3. **添加用户系统**：让用户注册登录，记录每个用户的使用情况
4. **添加日志功能**：记录兑换码使用的详细日志
5. **导出功能**：可以导出兑换码列表和使用记录
